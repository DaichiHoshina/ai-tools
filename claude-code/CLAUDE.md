# claude-code ディレクトリ固有設定

このディレクトリはClaude Code用の設定・スキル・フックを管理。

## 構造

```
claude-code/
├── commands/      スラッシュコマンド定義
├── skills/        スキル定義（レビュー、開発、インフラ等）
├── hooks/         イベントフック（session-start等）
├── guidelines/    言語・設計ガイドライン
├── agents/        エージェント定義
└── references/    参考資料
```

## 編集時の注意

- `install.sh`/`sync.sh` を更新したら `~/.claude/` に同期必要
- 🔒 PROTECTED SECTION（CLAUDE.md内）は変更禁止
- frontmatter（---で囲まれた部分）は正確なYAML形式を維持

## 同期コマンド

```bash
./claude-code/install.sh   # 初回インストール
./claude-code/sync.sh      # 更新時の同期
```

## 主要ファイル

| ファイル | 用途 |
|----------|------|
| install.sh | ~/.claude/への初回インストール |
| sync.sh | 設定変更後の同期 |
| QUICKSTART.md | 新規ユーザー向けクイックスタート |
| SKILLS-MAP.md | スキル一覧と依存関係 |
| GLOSSARY.md | 用語集 |

## セッション効率化

- 単純な修正（1-2ファイル）→ `/dev --quick` または直接実行
- 複雑な実装（3ファイル以上）→ `/flow` でAgent階層使用
- Boris流: 「fix」だけで修正、細かく指示しない

## 根本原因分析（Root Cause Analysis）原則

### 対症療法 vs 根本治療

**判断基準**:
- 対症療法: エラーを隠す（null check、try-catch、条件分岐で回避）
- 根本治療: 原因を取り除く（初期化保証、型安全性、構造変更）

### エラーが消えた ≠ 問題解決

**必須プロセス**:
1. **再現**: エラーを確実に再現できる状態を作る
2. **原因特定**: なぜそのエラーが発生するのか特定
3. **設計判断**: 複数の修正方法から構造的なものを選択
4. **検証**: なぜ直ったのか説明できること

### 具体的なパターン

→ 詳細: `/protection-mode` の 品質ガードを参照（Reject/ReviewRequired/Acceptの具体例）

### 影響範囲による判断

| 発生頻度 | 推奨アプローチ |
|---------|--------------|
| 単発（1箇所のみ） | ローカル修正OK |
| パターン（3箇所以上） | 共通原因をリファクタリング |
| システム全体 | アーキテクチャ変更 |
