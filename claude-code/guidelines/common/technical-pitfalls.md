# 技術的注意点・落とし穴

## 絶対禁止パターン

| パターン | ❌ 禁止 | ✅ 正しい |
|---------|---------|----------|
| 設計なし実装 | 実装しながら設計<br>「とりあえず動かす」「後で直す」 | 設計完了 → 実装開始 |
| デグレ防止 | 既存 props/関数シグネチャ/CSS クラス名変更 | 新機能は新コンポーネント、既存は拡張のみ |
| バリデーション | 実装しながら設計 | 仕様書先行 → rules/ でルール定義 → テスト確認 |

---

## 具体的な落とし穴

| 項目 | 対策 |
|------|------|
| 座標計算 | 変換関数で明確化（座標系混在を防ぐ） |
| アクションタイプ | 値の統一（`text` と `message` の混在を防ぐ） |
| バリデーションキー | ルール名とメッセージキーのマッピング |

---

## 過去のミス事例

| ミス | 原因 | 対策 |
|------|------|------|
| lint fix 3回繰り返し | 開発環境未整備 | 開発環境整備、pre-commit hook |
| デグレ2回発生 | 影響範囲未把握 | 影響範囲把握、テスト実行 |
| バリデーション設計5回変更 | 仕様書なし | 仕様書先行 |
| 不要コード大量削除 | 過剰実装 | 現在必要な機能のみ実装 |
