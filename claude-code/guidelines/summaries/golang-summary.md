# Go ガイドライン（サマリー版）

## バージョン情報

| 項目 | バージョン |
|------|-----------|
| **最新安定版** | Go 1.23 |
| **次期予定** | Go 1.26（2026年8月リリース予定） |
| **ジェネリクス** | Go 1.18以降 |

## Go 1.26 新機能（予定）

| 機能 | 概要 |
|------|------|
| `new()` 拡張 | 複合リテラル構文に対応 |
| Green Tea GC | ガベージコレクション最適化 |
| `go fix` 改善 | 自動移行ツール強化 |

## 基本原則

| 原則 | 説明 |
|------|------|
| **シンプル** | 複雑な抽象化を避ける |
| **明示的** | 暗黙の動作を避ける |
| **標準ライブラリ優先** | 外部依存を最小限に |

## 型安全性

| NG | OK |
|----|----|
| `func Process(data interface{}) {}` | `func Process[T any](data T) {}` |
| interface{}の多用 | 型パラメータ使用（Go 1.18+） |

## エラーハンドリング

```go
// ✅ 推奨パターン
if err != nil {
    return fmt.Errorf("context: %w", err)
}
```

| 項目 | 推奨 |
|------|------|
| エラーチェック | 必ず実施 |
| ラップ | `%w` でエラーラップ |
| カスタムエラー | `errors.New()` または `fmt.Errorf()` |

## 命名規則

| 種類 | 規則 | 例 |
|------|------|-----|
| パッケージ名 | 小文字・短く・明確 | `http`, `json` |
| エクスポート | 大文字開始 | `ReadFile` |
| 非エクスポート | 小文字開始 | `readFile` |
| インターフェース | -er 接尾辞 | `Reader`, `Writer` |

## パフォーマンス

| 項目 | 推奨 |
|------|------|
| ポインタ vs 値 | 大きな構造体はポインタ |
| ゴルーチン | 適切なライフサイクル管理 |
| defer | 重いループ内では避ける |
| スライス事前割り当て | `make([]T, 0, capacity)` |

## 並行処理

| パターン | 使用ケース |
|----------|------------|
| **goroutine** | 軽量な並行処理 |
| **channel** | ゴルーチン間通信 |
| **sync.WaitGroup** | 複数ゴルーチン待機 |
| **context** | キャンセル・タイムアウト制御 |
