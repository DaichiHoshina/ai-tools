# Commands Guide - コマンド使い分けガイド

Claude Codeの17コマンドの使い分けとベストプラクティス。

## 📌 推奨: Core 3コマンド

**初心者はこの3つだけ覚えればOK**

| コマンド | 用途 | 使用頻度 |
|---------|------|---------|
| **`/flow`** | 万能コマンド（迷ったらこれ） | ⭐️⭐️⭐️⭐️⭐️ |
| **`/dev`** | 実装専用（やることが明確） | ⭐️⭐️⭐️⭐️ |
| **`/review`** | コードレビュー | ⭐️⭐️⭐️⭐️ |

**使い分けフローチャート**:
```
タスク開始
    │
    ▼
┌─────────────────┐
│ 何をしたい？     │
└────────┬────────┘
         │
    ┌────┴────┬──────────┐
    ▼         ▼          ▼
 不明確    実装明確   レビュー
    │         │          │
    ▼         ▼          ▼
 /flow      /dev      /review
```

---

## 🎯 よく使うコマンド（Tier 2）

**Core 3の次に覚えるべき4コマンド**

| コマンド | 用途 | タイミング |
|---------|------|-----------|
| **`/commit`** | コミットメッセージ自動生成 | 実装完了後 |
| **`/commit-push-pr`** | commit→push→PR一括 | 完成してPR作成まで一気に |
| **`/plan`** | 設計・計画のみ | 大規模実装前の設計検討 |
| **`/debug`** | エラー解析・修正提案 | バグ発生時 |

---

## 🔧 専門コマンド（Tier 3）

**特定のシーンでのみ使用**

### 開発系

| コマンド | 用途 | 使用例 |
|---------|------|--------|
| `/test` | テストコード作成 | 既存コードにテスト追加 |
| `/refactor` | リファクタリング | コード整理・改善 |
| `/quick-fix` | 1-2ファイルの軽微な修正 | タイポ修正、簡単なバグ修正 |
| `/tdd` | TDD開発モード | RED-GREEN-REFACTOR サイクル |

### 調査・分析系

| コマンド | 用途 | 使用例 |
|---------|------|--------|
| `/explore` | 並列探索（複数観点） | 認証フローを4観点から調査 |
| `/retrospective` | セッション振り返り | 過去の作業を分析して改善 |

### ドキュメント系

| コマンド | 用途 | 使用例 |
|---------|------|--------|
| `/docs` | ドキュメント作成 | README、API仕様書作成 |
| `/prd` | PRD作成（対話式要件整理） | 新機能の要件定義 |
| `/brainstorm` | 対話的設計精緻化 | アイデア出しから設計まで |

### ユーティリティ系

| コマンド | 用途 | 使用例 |
|---------|------|--------|
| `/reload` | 設定再読み込み | compaction後のコンテキスト復元 |
| `/serena` | Serena MCP操作 | メモリー管理・プロジェクト知識操作 |
| `/serena-refresh` | Serenaデータ最新化 | データ・メモリーの整理 |

---

## 💡 コマンド選択のベストプラクティス

### 1. 迷ったら `/flow`

- タスクタイプ自動判定
- 最適なワークフロー自動実行
- 初心者に最も推奨

### 2. やることが明確なら `/dev`

**条件**:
- 1-2ファイルの修正
- 実装内容が具体的
- 設計済み

**例**:
```
/dev LoginButton コンポーネントを作成して
```

### 3. 複数ファイル・不明確なら `/flow`

**条件**:
- 3ファイル以上の変更
- 複数の独立した機能
- 要件が不明確

**例**:
```
/flow ユーザー認証機能を追加して
```

### 4. 専門コマンドは明確な目的がある時のみ

- `/test`: テストだけ作りたい
- `/docs`: ドキュメントだけ作りたい
- `/prd`: 要件整理だけしたい

---

## 🚫 非推奨パターン

### ❌ 過度な専門コマンド使用

**悪い例**:
```
/prd でPRD作成
↓
/plan で設計
↓
/dev で実装
↓
/test でテスト
↓
/review でレビュー
↓
/commit でコミット
```

**良い例**:
```
/flow ユーザー認証機能を追加して
（内部で自動的に全ステップ実行）
```

### ❌ `/dev` を万能コマンドとして使用

`/dev`は実装専用。設計・要件整理が必要なら `/flow` を使う。

### ❌ 毎回 `/quick-fix` を使う

`/quick-fix`は本当に軽微な修正のみ。判断に迷ったら `/dev` または `/flow`。

---

## 📊 コマンド使用頻度の目安

実際のプロジェクトでの使用頻度（目安）:

| 頻度 | コマンド |
|------|---------|
| 毎日 | `/flow`, `/dev`, `/review`, `/commit` |
| 週1-2回 | `/commit-push-pr`, `/debug`, `/test` |
| 月1-2回 | `/plan`, `/docs`, `/refactor`, `/explore` |
| 稀 | その他の専門コマンド |

---

## 🎓 学習パス

### レベル1: 初心者（1日目）
- `/flow` を使えるようになる
- 基本的なタスクを `/flow` で実行

### レベル2: 中級者（1週間）
- `/dev` と `/flow` の使い分けを理解
- `/commit` でコミットメッセージ作成

### レベル3: 上級者（1ヶ月）
- Tier 2コマンド（`/plan`, `/debug`）を活用
- 状況に応じた最適なコマンド選択

### レベル4: エキスパート（3ヶ月）
- 専門コマンドを使いこなす
- カスタムワークフロー構築

---

## 🔗 関連ドキュメント

- [QUICKSTART.md](./QUICKSTART.md): 3つの基本コマンド詳細
- [commands/](./commands/): 各コマンドの詳細仕様
- [SKILLS-USAGE.md](./SKILLS-USAGE.md): スキル使い分けガイド
- [AGENTS.md](./agents/README.md): エージェント→コマンドマッピング
